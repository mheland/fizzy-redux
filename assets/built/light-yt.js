function getYoutubeData(e){return fetch("https://www.youtube-nocookie.com/oembed?format=json&url=http%3A//youtube.com/watch%3Fv%3D"+e).then(e=>e.json()).catch(e=>{console.log(e)})}function labnolIframe(e){var t=document.createElement("iframe");t.setAttribute("src","https://www.youtube-nocookie.com/embed/"+e.dataset.id+"?autoplay=1&rel=0"),t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","1"),t.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),e.parentNode.replaceChild(t,e)}function initYouTubeVideos(){var o=document.getElementsByClassName("youtube-player");for(let e=0;e<o.length;e++){var a=o[e].dataset.id;let t="playerid-"+e.toString();getYoutubeData(a).then(e=>document.getElementById(t).innerHTML=e.title.substr(0,40)).catch(e=>{console.log(e)});var n=document.createElement("div"),a=(n.setAttribute("data-id",a),n.appendChild(document.createElement("img")).src="//i.ytimg.com/vi/ID/hqdefault.jpg".replace("ID",a),document.createElement("div")),a=(a.setAttribute("class","videotitle"),a.setAttribute("id",t),a.appendChild(document.createTextNode("")),n.appendChild(a),document.createElement("div"));a.setAttribute("class","play plausible-event-name=VideoPlay"),n.appendChild(a),n.onclick=function(){labnolIframe(this)},o[e].appendChild(n)}}document.addEventListener("DOMContentLoaded",initYouTubeVideos);
//# sourceMappingURL=light-yt.js.map